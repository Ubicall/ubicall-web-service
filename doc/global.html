<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="__scheduleDemo"><span class="type-signature"></span>__scheduleDemo<span class="signature">(call)</span><span class="type-signature"></span></h4>

    



<div class="description">
    helper function used to sumbit demo call by calling storage.scheduleDemoCall
and call external api to generate static call file and call you back
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>call</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">call Array that contain call attributes</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="call.js.html">call.js</a>, <a href="call.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="cancel"><span class="type-signature"></span>cancel<span class="signature">(call_id)</span><span class="type-signature"></span></h4>

    



<div class="description">
    cancel call with id @param call_id
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>call_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">call_id to cancel</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="call.js.html">call.js</a>, <a href="call.js.html#line193">line 193</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    HTTP status 422 - MissedParams if @param call_id is undefined
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 500 ServerError if storage.cancelCall failed
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP 200 if your call canceled successfully
</div>


</li>
    </ul>


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>{message: 'call canceled successfully'}</code></pre>



        
            

    

    <h4 class="name" id="createIvr"><span class="type-signature"></span>createIvr<span class="signature">(ivr)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ivr</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Array containing IVR parameters
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>license_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">license_key unique for each user,your api licence_key if not exist it will submit demo call , this fall back happen to be consisted with old ios app version and may be removed in next releases @return MissedParams If no licence_key</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>version</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the version of plist file.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ivr.js.html">ivr.js</a>, <a href="ivr.js.html#line66">line 66</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    HTTP status 200 - message: mobile & web clients updated successfully
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 500 ServerError
</div>


</li>
    </ul>


    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>{message: "mobile &amp; web clients updated successfully"}</code></pre>

    <pre class="prettyprint"><code>{message:"Unable to update Mobile,hence rollback web"}</code></pre>



        
            

    

    <h4 class="name" id="createSipAccount"><span class="type-signature"></span>createSipAccount<span class="signature">(device)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>device</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Array containing all attributes of a device
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>license_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">your api licence_key if not exist it will submit demo call , this fall back happen to be consisted with old ios app version and may be removed in next releases</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sdk_name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the name of the sdk. Each client have a unique name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sdk_version</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">version of the clientâ€™s sdk.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">name of your device</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the model of the device. (Ex: IPhone 5, iPhone 6, Samsung S3)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">each device has a unique user id</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>version</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">deviceâ€™s version . (Ex:IOS 7 , IOS 8, Kitkat, Lollipop)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">your mobile device_token, not required if you use web client</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sip.js.html">sip.js</a>, <a href="sip.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    HTTP status 200
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 500 ServerError Unexpected Condition Was Encountered
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 403  Forbidden Bad credentials
</div>


</li>
    
        <li>
<div class="param-desc">
    MissedParams if @param device.token missed and your client is mobile.
</div>


</li>
    </ul>


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>{username:'XXXX',password:'XXXXX',domain:'XXXX.XX.XX.X'}</code></pre>



        
            

    

    <h4 class="name" id="createSipCall"><span class="type-signature"></span>createSipCall<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    schedule demo call if client is undefined or client is exist but with demo flag equal zero
schedule regular call if client exist and has demo flag equal one
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="call.js.html">call.js</a>, <a href="call.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    HTTP status 500 ServerError if req.ubi.call.device_token not exist , __scheduleDemo failed or storage.scheduleCall failed
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP 200 if your call submitted successfully
</div>


</li>
    </ul>


    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>{message: 'demo call scheduled successfully', call: XXXX }</code></pre>

    <pre class="prettyprint"><code>{message: 'call scheduled successfully', call: XXXX }</code></pre>



        
            

    

    <h4 class="name" id="createWebAccount"><span class="type-signature"></span>createWebAccount<span class="signature">(device)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>device</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">Array containing all attributes of a device
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>license_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">your api licence_key if not exist it will submit demo call , this fall back happen to be consisted with old ios app version and may be removed in next releases</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sdk_name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the name of the sdk. Each client have a unique name</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sdk_version</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">version of the clientâ€™s sdk.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">name of your device</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the model of the device. (Ex: IPhone 5, iPhone 6, Samsung S3)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>uid</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">each device has a unique user id</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>version</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">deviceâ€™s version . (Ex:IOS 7 , IOS 8, Kitkat, Lollipop)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">your mobile device_token, not required if you use web client</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sip.js.html">sip.js</a>, <a href="sip.js.html#line108">line 108</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    MissedParams if is missed and your client is mobile.
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 200
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 500 ServerError Unexpected Condition Was Encountered
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 403  Forbidden Bad credentials
</div>


</li>
    </ul>


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>{username:'XXXX',password:'XXXXX',domain:'XXXX.XX.XX.X'}</code></pre>



        
            

    

    <h4 class="name" id="createWebCall"><span class="type-signature"></span>createWebCall<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    schedule demo call if licence_key is undefined otherwise schedule regular call
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="call.js.html">call.js</a>, <a href="call.js.html#line157">line 157</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    HTTP status 500 ServerError if__scheduleDemo failed or storage.scheduleCall failed
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 200 if your call submitted successfully
</div>


</li>
    </ul>


    <h5>Examples</h5>
    
    <pre class="prettyprint"><code>{message: 'call scheduled successfully', call: XXXX }</code></pre>

    <pre class="prettyprint"><code>{message: 'demo call scheduled successfully', call: XXXX }</code></pre>



        
            

    

    <h4 class="name" id="extract"><span class="type-signature"></span>extract<span class="signature">(pstn, sip, device_token, licence_key, call_data, longitude, latitude, address, time, queue)</span><span class="type-signature"></span></h4>

    



<div class="description">
    extract call attributes from request body
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pstn</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">flag to distinguish between mobile app [android - iphone] , web and regular phone call as {iphone : 0 , android : 1 , web : 2 , phone : 3}</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sip</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">your phone number , virtual which generated from /sip/account or /web/account APIs or your real phone number if you will recieve un voip call</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>device_token</code></td>
            

            <td class="type">
            
                
<span class="param-type">uid</span>


            
            </td>

            

            

            <td class="description last">your mobile device_token, not required if you use web client</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>licence_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">uid</span>


            
            </td>

            

            

            <td class="description last">your api licence_key if not exist it will submit demo call , this fall back happen to be consisted with old ios app version and may be removed in next releases</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>call_data</code></td>
            

            <td class="type">
            
                
<span class="param-type">json</span>


            
            </td>

            

            

            <td class="description last">json object contain your call meta info</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>longitude</code></td>
            

            <td class="type">
            
                
<span class="param-type">uid</span>


            
            </td>

            

            

            <td class="description last">your location longitude and it grabbed automatically</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>latitude</code></td>
            

            <td class="type">
            
                
<span class="param-type">uid</span>


            
            </td>

            

            

            <td class="description last">your location latitude and it grabbed automatically</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>address</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">your location address and it grabbed automatically , but not provided if you use web client</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type">Date</span>


            
            </td>

            

            

            <td class="description last">time you like to call you , if not existed you will be called using FIFO algorithm (this may changed in next releases)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queue</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">what queue id you like to submit your call</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="call.js.html">call.js</a>, <a href="call.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    MissedParams if @param integeris missed
</div>


</li>
    
        <li>
<div class="param-desc">
    MissedParams if @param sip is missing
</div>


</li>
    
        <li>
<div class="param-desc">
    MissedParams if @param uid is missed and your client is mobile.
</div>


</li>
    
        <li>
<div class="param-desc">
    BadRequest if @param json is not valid
</div>


</li>
    </ul>



        
            

    

    <h4 class="name" id="fetchIvr"><span class="type-signature"></span>fetchIvr<span class="signature">(key)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">license_key unique for each client,your api licence_key if not exist it will submit demo call , this fall back happen to be consisted with old ios app version and may be removed in next releases</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ivr.js.html">ivr.js</a>, <a href="ivr.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    HTTP status 400 BadRequest - unable to get versionToken
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 200
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 500 - ServerError unable to get version,try again later
</div>


</li>
    </ul>


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>{message: "ivr with version "+ version.version +"retrieved successfully",version : version.version ,url : version.url}</code></pre>



        
            

    

    <h4 class="name" id="submitFeedback"><span class="type-signature"></span>submitFeedback<span class="signature">(call_id)</span><span class="type-signature"></span></h4>

    



<div class="description">
    submit feedback for call with id @param call_id
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>call_id</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">call_id to submit feedback on</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="call.js.html">call.js</a>, <a href="call.js.html#line215">line 215</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    MissedParams if @param call_id is undefined or (@param feedback and @param feedback_text)
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status 500 ServerError if storage.feedback failed
</div>


</li>
    
        <li>
<div class="param-desc">
    HTTP status - 200 message: "feedback sent successfully"
</div>


</li>
    </ul>



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#__scheduleDemo">__scheduleDemo</a></li><li><a href="global.html#cancel">cancel</a></li><li><a href="global.html#createIvr">createIvr</a></li><li><a href="global.html#createSipAccount">createSipAccount</a></li><li><a href="global.html#createSipCall">createSipCall</a></li><li><a href="global.html#createWebAccount">createWebAccount</a></li><li><a href="global.html#createWebCall">createWebCall</a></li><li><a href="global.html#extract">extract</a></li><li><a href="global.html#fetchIvr">fetchIvr</a></li><li><a href="global.html#submitFeedback">submitFeedback</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Wed Aug 26 2015 17:03:08 GMT+0200 (EET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>